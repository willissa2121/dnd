(this.webpackJsonpdnd=this.webpackJsonpdnd||[]).push([[0],{36:function(e,a,t){e.exports=t(78)},41:function(e,a,t){e.exports=t.p+"static/media/diceSound.afd53a36.mp3"},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){var n={"./cat.png":45,"./cat_old.png":46,"./dragon.png":47,"./midget.png":48,"./necromancer.png":49,"./necromancer_old.png":50};function r(e){var a=o(e);return t(a)}function o(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=44},45:function(e,a,t){e.exports=t.p+"static/media/cat.46703135.png"},46:function(e,a,t){e.exports=t.p+"static/media/cat_old.46703135.png"},47:function(e,a,t){e.exports=t.p+"static/media/dragon.19c2bc27.png"},48:function(e,a,t){e.exports=t.p+"static/media/midget.e93a16f5.png"},49:function(e,a,t){e.exports=t.p+"static/media/necromancer.ae6ce689.png"},50:function(e,a,t){e.exports=t.p+"static/media/necromancer_old.ae6ce689.png"},51:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(25),l=t.n(o),c=[4,6,8,10,20],i=["danger","warning","success","primary","info"];function s(e){var a=new Audio(t(41));return r.a.createElement("div",null,c.map((function(t,n){return r.a.createElement("button",{className:"btn btn-".concat(i[n]," mr-1 ml-1"),onClick:function(){a.play().then((function(e){console.log("rolled")})),e.random(t,e.user)},value:t},t)})))}t(42);function u(e){return r.a.createElement("div",null,r.a.createElement("form",{action:"/action_page.php",method:"get"},r.a.createElement("label",{for:"strength"},r.a.createElement("input",{type:"radio",name:"radio",value:"".concat(e.user,":str"),onChange:e.handleChange})," ","Str"),r.a.createElement("label",{for:"dexterity"},r.a.createElement("input",{type:"radio",name:"radio",value:"".concat(e.user,":dex"),onChange:e.handleChange})," ","Dex"),r.a.createElement("label",{for:"constitution"},r.a.createElement("input",{type:"radio",name:"radio",value:"".concat(e.user,":con"),onChange:e.handleChange})," ","Con"),r.a.createElement("label",{for:"intelligence"},r.a.createElement("input",{type:"radio",name:"radio",value:"".concat(e.user,":int"),onChange:e.handleChange})," ","Int"),r.a.createElement("label",{for:"wisdom"},r.a.createElement("input",{type:"radio",name:"radio",value:"".concat(e.user,":wis"),onChange:e.handleChange})," ","Wis"),r.a.createElement("label",{for:"charisma"},r.a.createElement("input",{type:"radio",name:"radio",value:"".concat(e.user,":char"),onChange:e.handleChange}),"Char"),r.a.createElement("label",{for:"none"},r.a.createElement("input",{type:"radio",name:"radio",value:"".concat(e.user,":0"),onChange:e.handleChange}),"None")))}t(43);function d(e){var a=[];return e.data.map((function(t){if(e.user===t.roller){var n=t.roller,r=t.val,o=t.maxRoll,l=t.modifierValue,c=t.modifierClass,i=t.createdAt;null!==l?a.push({roller:n,val:r,maxRoll:o,modifierValue:l,modifierClass:c,createdAt:i}):a.push({roller:n,val:r,maxRoll:o,modifierValue:0,modifierClass:"no mod",createdAt:i})}})),r.a.createElement("div",null,r.a.createElement("p",null,e.user),r.a.createElement(s,{className:"user-group",user:e.user,random:e.random}),r.a.createElement(u,{user:e.user,handleChange:e.handleChange}),r.a.createElement("img",{alt:"user-pic",id:"parent-user-group",src:t(44)("./".concat(e.image,".png"))}),a.map((function(e){return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("p",{className:"col-md-12",id:"roll-history"},r.a.createElement("p",{id:"rollRoller"}," ",r.a.createElement("span",null,e.val," / ",e.maxRoll," ",e.modifierClass," +"," ",e.modifierValue," =",e.val+e.modifierValue))))})))}t(51);var m=t(33),p=t(12),f=t.n(p),h=t(26),v=t(27),g=t(28),E=t(34),C=t(35);t(53),t(54);function N(e){var a=e.update?"updateText":"";return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",{className:"lead"},"Most Recent Roll"),r.a.createElement("div",{id:"flex"},r.a.createElement("h1",null,"Previous Nat 1 : ",e.previousNat1),r.a.createElement("p",{id:a,className:"display-4"},e.recentRoll.roller," rolled a ",e.recentRoll.val),r.a.createElement("h1",null,"Previous Nat 20 : ",e.previousNat20))))}var y=t(9),b=t.n(y),x=[{userName:"Leeshin Liskyn",picture:"dragon",stats:{str:5,dex:4,con:3,wis:3,int:3,char:2}},{userName:"Rone Dahl",picture:"necromancer",stats:{str:0,dex:3,con:2,wis:2,int:4,char:2}},{userName:"IWILLNUT",picture:"midget"},{userName:"HercuLATS",picture:"cat",stats:{str:1,dex:4,con:1,wis:1,int:2,char:3}}],R=function(e){Object(C.a)(t,e);var a=Object(E.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).handleData=function(e,a){var t,r,o=[];console.log(e);for(var l=e.data.length-1;l>=0;l--){var c=e.data[l],i=c.roller,s=c.val,u=c.maxRoll,d=c.modifierValue,m={roller:i,val:s,maxRoll:u,modifierClass:c.modifierClass,modifierValue:d,createdAt:c.createdAt};o.push(m)}for(var p=0;p<e.data.length;p++){var f=e.data[p],h=f.roller,v=f.val,g=f.maxRoll;1===v&&20===g?r=h:20===v&&(t=h)}console.log(r,t);var E=o[0],C={roller:E.roller,val:E.val,createdAt:E.createdAt};C.createdAt===n.state.recentRoll.createdAt?n.setState({updateRoller:!1}):n.setState({updateRoller:!0}),a?n.setState((function(e){return{rollDataArray:o,recentRoll:C,previousNat1:r,previousNat20:t}})):n.setState((function(e){return{rollDataArray:o,previousNat1:r,previousNat20:t}}))},n.refreshFeed=function(){b.a.post("https://dnd-server-api.herokuapp.com/refreshData").then((function(e){n.handleData(e,!0)}))},n.getRandom=function(){var e=Object(h.a)(f.a.mark((function e(a,t){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a,o=Math.floor(Math.random()*a)+1,b.a.post("https://dnd-server-api.herokuapp.com/sendData",{val:o,roller:t,maxRoll:r,modifierValue:n.state.currentModValue,modifierClass:n.state.currentModClass}).then((function(e){n.handleData(e,!1)}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var a=e.target.value.split(":"),t=Object(m.a)(a,2),r=t[0],o=t[1];x.map((function(e){if(e.userName===r)if(0===o)n.setState({currentModValue:0,currentModClass:"none"});else{var a=e.stats[o];n.setState({currentModValue:a,currentModClass:o})}})),console.log(n.state.currentModClass,n.state.currentModValue)},n.state={rollDataArray:[],valArray:[],rollerArray:[],recentRoll:{},updateRoller:!0,currentModValue:0,currentModClass:"",previousNat20:"",previousNat1:""},n}return Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.refreshFeed(),setInterval((function(){e.refreshFeed()}),200)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(N,{previousNat1:this.state.previousNat1,previousNat20:this.state.previousNat20,update:this.state.updateRoller,recentRoll:this.state.recentRoll}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row",id:"contains-users"},x.map((function(a){return r.a.createElement("div",{className:"col-md-3"},r.a.createElement(d,{handleChange:e.handleChange,data:e.state.rollDataArray,random:e.getRandom,image:a.picture,user:a.userName}))})))))}}]),t}(r.a.Component),A=t(29);t.n(A).a.config();var k=["demon","devil","boss"];function w(){return r.a.createElement("div",null,k.map((function(e){return r.a.createElement("button",{onClick:function(){!function(e){b.a.post("https://dnd-server-api.herokuapp.com/sendEnemy",{enemy:e}).then((function(e){console.log(e.data)}))}(e)},className:"btn btn-danger"},"spawn ",e)})))}var M=t(30),V=t(6);function D(){return r.a.createElement(M.a,{basename:"/dnd"},r.a.createElement(V.c,null,r.a.createElement(V.a,{exact:!0,path:"/",component:R}),r.a.createElement(V.a,{path:"/admin",component:w})))}l.a.render(r.a.createElement("div",null,r.a.createElement("link",{href:"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh",crossorigin:"anonymous"}),r.a.createElement(D,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.99e9017a.chunk.js.map